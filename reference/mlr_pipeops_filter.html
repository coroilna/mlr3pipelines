<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Feature Filtering — mlr_pipeops_filter • mlr3pipelines</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/journal/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/all.min.css" integrity="sha256-PbSmjxuVAzJ6FPvNYsrXygfGhNJYyZ2GktDbkMBqQZg=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.1/css/v4-shims.min.css" integrity="sha256-A6jcAdwFD48VMjlI3GDxUd+eCQa7/KWy6G9oe/ovaPA=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<link href="../extra.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Feature Filtering — mlr_pipeops_filter" />
<meta property="og:description" content="Feature filtering using a mlr3filters::Filter object, see the
mlr3filters package.
If a Filter can only operate on a subset of columns based on column type, then only these features are considered and filtered.
nfeat and frac will count for the features of the type that the Filter can operate on;
this means e.g. that setting nfeat to 0 will only remove features of the type that the Filter can work with." />
<meta property="og:image" content="https://mlr3pipelines.mlr-org.com/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://mlr-org.com"><img src="https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png" id="hexlogo" alt="mlr-org" /></a>
        <a class="navbar-brand" href="../index.html">mlr3pipelines <small>v0.3.6</small></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../reference/index.html">
    <span class="fa fa-file-alt"></span>
     
    Reference
  </a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="https://mlr3book.mlr-org.com">
    <span class="fa fa-link"></span>
     
    mlr3book
  </a>
</li>
        <li>
  <a href="https://github.com/mlr-org/mlr3pipelines/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://lmmisld-lmu-stats-slds.srv.mwn.de/mlr_invite/">
    <span class="fa fa-comments"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr3">
    <span class="fab fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Feature Filtering</h1>
    <small class="dont-index">Source: <a href='https://github.com/mlr-org/mlr3pipelines/blob/master/R/PipeOpFilter.R'><code>R/PipeOpFilter.R</code></a></small>
    <div class="hidden name"><code>mlr_pipeops_filter.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Feature filtering using a <code><a href='https://mlr3filters.mlr-org.com/reference/Filter.html'>mlr3filters::Filter</a></code> object, see the
<a href='https://CRAN.R-project.org/package=mlr3filters'><span class="pkg">mlr3filters</span></a> package.</p>
<p>If a <code>Filter</code> can only operate on a subset of columns based on column type, then only these features are considered and filtered.
<code>nfeat</code> and <code>frac</code> will count for the features of the type that the <code>Filter</code> can operate on;
this means e.g. that setting <code>nfeat</code> to 0 will only remove features of the type that the <code>Filter</code> can work with.</p>
    </div>



    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p><code>R6Class</code> object inheriting from <code><a href='PipeOpTaskPreprocSimple.html'>PipeOpTaskPreprocSimple</a></code>/<code><a href='PipeOpTaskPreproc.html'>PipeOpTaskPreproc</a></code>/<code><a href='PipeOp.html'>PipeOp</a></code>.</p>
    <h2 class="hasAnchor" id="construction"><a class="anchor" href="#construction"></a>Construction</h2>

    
<pre><span class='va'>PipeOpFilter</span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='va'>filter</span>, id <span class='op'>=</span> <span class='va'>filter</span><span class='op'>$</span><span class='va'>id</span>, param_vals <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</pre>
<ul>
<li><p><code>filter</code> :: <code><a href='https://mlr3filters.mlr-org.com/reference/Filter.html'>Filter</a></code><br />
<code><a href='https://mlr3filters.mlr-org.com/reference/Filter.html'>Filter</a></code> used for feature filtering.</p></li>
<li><p><code>id</code> :: <code><a href='https://rdrr.io/r/base/character.html'>character(1)</a></code>
Identifier of the resulting  object, defaulting to the <code>id</code> of the <code><a href='https://mlr3filters.mlr-org.com/reference/Filter.html'>Filter</a></code> being used.</p></li>
<li><p><code>param_vals</code> :: named <code>list</code><br />
List of hyperparameter settings, overwriting the hyperparameter settings that would otherwise be set during construction. Default <code><a href='https://rdrr.io/r/base/list.html'>list()</a></code>.</p></li>
</ul>

    <h2 class="hasAnchor" id="input-and-output-channels"><a class="anchor" href="#input-and-output-channels"></a>Input and Output Channels</h2>

    

<p>Input and output channels are inherited from <code><a href='PipeOpTaskPreproc.html'>PipeOpTaskPreproc</a></code>.</p>
<p>The output is the input <code><a href='https://mlr3.mlr-org.com/reference/Task.html'>Task</a></code> with features removed that were filtered out.</p>
    <h2 class="hasAnchor" id="state"><a class="anchor" href="#state"></a>State</h2>

    

<p>The <code>$state</code> is a named <code>list</code> with the <code>$state</code> elements inherited from <code><a href='PipeOpTaskPreproc.html'>PipeOpTaskPreproc</a></code>, as well as:</p><ul>
<li><p><code>scores</code> :: named <code>numeric</code><br />
Scores calculated for all features of the training <code><a href='https://mlr3.mlr-org.com/reference/Task.html'>Task</a></code> which are being used
as cutoff for feature filtering. If <code>frac</code> or <code>nfeat</code> is given, the underlying <code><a href='https://mlr3filters.mlr-org.com/reference/Filter.html'>Filter</a></code> may choose to not calculate scores for
all features that are given. This only includes features on which the <code><a href='https://mlr3filters.mlr-org.com/reference/Filter.html'>Filter</a></code> can operate; e.g.
if the <code><a href='https://mlr3filters.mlr-org.com/reference/Filter.html'>Filter</a></code> can only operate on numeric features, then scores for factorial features will not be given.</p></li>
<li><p><code>features</code> :: <code>character</code><br />
Names of features that are being kept. Features of types that the <code><a href='https://mlr3filters.mlr-org.com/reference/Filter.html'>Filter</a></code> can not operate on are always being kept.</p></li>
</ul>

    <h2 class="hasAnchor" id="parameters"><a class="anchor" href="#parameters"></a>Parameters</h2>

    

<p>The parameters are the parameters inherited from the <code><a href='PipeOpTaskPreproc.html'>PipeOpTaskPreproc</a></code>, as well as the parameters of the <code><a href='https://mlr3filters.mlr-org.com/reference/Filter.html'>Filter</a></code>
used by this object. Besides, parameters introduced are:</p><ul>
<li><p><code>filter.nfeat</code> :: <code><a href='https://rdrr.io/r/base/numeric.html'>numeric(1)</a></code> <br />
Number of features to select.
Mutually exclusive with <code>frac</code>, <code>cutoff</code>, and <code>permuted</code>.</p></li>
<li><p><code>filter.frac</code> :: <code><a href='https://rdrr.io/r/base/numeric.html'>numeric(1)</a></code> <br />
Fraction of features to keep.
Mutually exclusive with <code>nfeat</code>, <code>cutoff</code>, and <code>permuted</code>.</p></li>
<li><p><code>filter.cutoff</code> :: <code><a href='https://rdrr.io/r/base/numeric.html'>numeric(1)</a></code> <br />
Minimum value of filter heuristic for which to keep features.
Mutually exclusive with <code>nfeat</code>, <code>frac</code>, and <code>permuted</code>.</p></li>
<li><p><code>filter.permuted</code> :: <code><a href='https://rdrr.io/r/base/integer.html'>integer(1)</a></code> <br />
If this parameter is set, a random permutation of each feature is added to the task before
applying the filter. All features selected before the <code>permuted</code>-th permuted features is selected
are kept. This is similar to the approach in Wu (2007) and Thomas (2017).
Mutually exclusive with <code>nfeat</code>, <code>frac</code>, and <code>cutoff</code>.</p></li>
</ul>

<p>Note that at least one of <code>filter.nfeat</code>, <code>filter.frac</code>, <code>filter.cutoff</code>, and <code>filter.permuted</code> must be given.</p>
    <h2 class="hasAnchor" id="internals"><a class="anchor" href="#internals"></a>Internals</h2>

    

<p>This does <em>not</em> use the <code>$.select_cols</code> feature of <code><a href='PipeOpTaskPreproc.html'>PipeOpTaskPreproc</a></code> to select only features compatible with the <code><a href='https://mlr3filters.mlr-org.com/reference/Filter.html'>Filter</a></code>;
instead the whole <code><a href='https://mlr3.mlr-org.com/reference/Task.html'>Task</a></code> is used by <code>private$.get_state()</code> and subset internally.</p>
    <h2 class="hasAnchor" id="fields"><a class="anchor" href="#fields"></a>Fields</h2>

    

<p>Fields inherited from <code><a href='PipeOpTaskPreproc.html'>PipeOpTaskPreproc</a></code>, as well as:</p><ul>
<li><p><code>filter</code> :: <code><a href='https://mlr3filters.mlr-org.com/reference/Filter.html'>Filter</a></code><br />
<code><a href='https://mlr3filters.mlr-org.com/reference/Filter.html'>Filter</a></code> that is being used for feature filtering. Do <em>not</em> use this slot to get to the feature filtering scores
after training; instead, use <code>$state$scores</code>. Read-only.</p></li>
</ul>

    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    

<p>Methods inherited from <code><a href='PipeOpTaskPreprocSimple.html'>PipeOpTaskPreprocSimple</a></code>/<code><a href='PipeOpTaskPreproc.html'>PipeOpTaskPreproc</a></code>/<code><a href='PipeOp.html'>PipeOp</a></code>.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Wu Y, Boos DD, Stefanski LA (2007).
&#8220;Controlling Variable Selection by the Addition of Pseudovariables.&#8221;
<em>Journal of the American Statistical Association</em>, <b>102</b>(477), 235--243.
doi: <a href='https://doi.org/10.1198/016214506000000843'>10.1198/016214506000000843</a>
.</p>
<p>Thomas J, Hepp T, Mayr A, Bischl B (2017).
&#8220;Probing for Sparse and Fast Variable Selection with Model-Based Boosting.&#8221;
<em>Computational and Mathematical Methods in Medicine</em>, <b>2017</b>, 1--8.
doi: <a href='https://doi.org/10.1155/2017/1421409'>10.1155/2017/1421409</a>
.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>https://mlr3book.mlr-org.com/list-pipeops.html</p>
<p>Other PipeOps: 
<code><a href='PipeOpEnsemble.html'>PipeOpEnsemble</a></code>,
<code><a href='PipeOpImpute.html'>PipeOpImpute</a></code>,
<code><a href='PipeOpTargetTrafo.html'>PipeOpTargetTrafo</a></code>,
<code><a href='PipeOpTaskPreprocSimple.html'>PipeOpTaskPreprocSimple</a></code>,
<code><a href='PipeOpTaskPreproc.html'>PipeOpTaskPreproc</a></code>,
<code><a href='PipeOp.html'>PipeOp</a></code>,
<code><a href='mlr_pipeops_boxcox.html'>mlr_pipeops_boxcox</a></code>,
<code><a href='mlr_pipeops_branch.html'>mlr_pipeops_branch</a></code>,
<code><a href='mlr_pipeops_chunk.html'>mlr_pipeops_chunk</a></code>,
<code><a href='mlr_pipeops_classbalancing.html'>mlr_pipeops_classbalancing</a></code>,
<code><a href='mlr_pipeops_classifavg.html'>mlr_pipeops_classifavg</a></code>,
<code><a href='mlr_pipeops_classweights.html'>mlr_pipeops_classweights</a></code>,
<code><a href='mlr_pipeops_colapply.html'>mlr_pipeops_colapply</a></code>,
<code><a href='mlr_pipeops_collapsefactors.html'>mlr_pipeops_collapsefactors</a></code>,
<code><a href='mlr_pipeops_colroles.html'>mlr_pipeops_colroles</a></code>,
<code><a href='mlr_pipeops_copy.html'>mlr_pipeops_copy</a></code>,
<code><a href='mlr_pipeops_datefeatures.html'>mlr_pipeops_datefeatures</a></code>,
<code><a href='mlr_pipeops_encodeimpact.html'>mlr_pipeops_encodeimpact</a></code>,
<code><a href='mlr_pipeops_encodelmer.html'>mlr_pipeops_encodelmer</a></code>,
<code><a href='mlr_pipeops_encode.html'>mlr_pipeops_encode</a></code>,
<code><a href='mlr_pipeops_featureunion.html'>mlr_pipeops_featureunion</a></code>,
<code><a href='mlr_pipeops_fixfactors.html'>mlr_pipeops_fixfactors</a></code>,
<code><a href='mlr_pipeops_histbin.html'>mlr_pipeops_histbin</a></code>,
<code><a href='mlr_pipeops_ica.html'>mlr_pipeops_ica</a></code>,
<code><a href='mlr_pipeops_imputeconstant.html'>mlr_pipeops_imputeconstant</a></code>,
<code><a href='mlr_pipeops_imputehist.html'>mlr_pipeops_imputehist</a></code>,
<code><a href='mlr_pipeops_imputelearner.html'>mlr_pipeops_imputelearner</a></code>,
<code><a href='mlr_pipeops_imputemean.html'>mlr_pipeops_imputemean</a></code>,
<code><a href='mlr_pipeops_imputemedian.html'>mlr_pipeops_imputemedian</a></code>,
<code><a href='mlr_pipeops_imputemode.html'>mlr_pipeops_imputemode</a></code>,
<code><a href='mlr_pipeops_imputeoor.html'>mlr_pipeops_imputeoor</a></code>,
<code><a href='mlr_pipeops_imputesample.html'>mlr_pipeops_imputesample</a></code>,
<code><a href='mlr_pipeops_kernelpca.html'>mlr_pipeops_kernelpca</a></code>,
<code><a href='mlr_pipeops_learner.html'>mlr_pipeops_learner</a></code>,
<code><a href='mlr_pipeops_missind.html'>mlr_pipeops_missind</a></code>,
<code><a href='mlr_pipeops_modelmatrix.html'>mlr_pipeops_modelmatrix</a></code>,
<code><a href='mlr_pipeops_multiplicityexply.html'>mlr_pipeops_multiplicityexply</a></code>,
<code><a href='mlr_pipeops_multiplicityimply.html'>mlr_pipeops_multiplicityimply</a></code>,
<code><a href='mlr_pipeops_mutate.html'>mlr_pipeops_mutate</a></code>,
<code><a href='mlr_pipeops_nmf.html'>mlr_pipeops_nmf</a></code>,
<code><a href='mlr_pipeops_nop.html'>mlr_pipeops_nop</a></code>,
<code><a href='mlr_pipeops_ovrsplit.html'>mlr_pipeops_ovrsplit</a></code>,
<code><a href='mlr_pipeops_ovrunite.html'>mlr_pipeops_ovrunite</a></code>,
<code><a href='mlr_pipeops_pca.html'>mlr_pipeops_pca</a></code>,
<code><a href='mlr_pipeops_proxy.html'>mlr_pipeops_proxy</a></code>,
<code><a href='mlr_pipeops_quantilebin.html'>mlr_pipeops_quantilebin</a></code>,
<code><a href='mlr_pipeops_randomprojection.html'>mlr_pipeops_randomprojection</a></code>,
<code><a href='mlr_pipeops_randomresponse.html'>mlr_pipeops_randomresponse</a></code>,
<code><a href='mlr_pipeops_regravg.html'>mlr_pipeops_regravg</a></code>,
<code><a href='mlr_pipeops_removeconstants.html'>mlr_pipeops_removeconstants</a></code>,
<code><a href='mlr_pipeops_renamecolumns.html'>mlr_pipeops_renamecolumns</a></code>,
<code><a href='mlr_pipeops_replicate.html'>mlr_pipeops_replicate</a></code>,
<code><a href='mlr_pipeops_scalemaxabs.html'>mlr_pipeops_scalemaxabs</a></code>,
<code><a href='mlr_pipeops_scalerange.html'>mlr_pipeops_scalerange</a></code>,
<code><a href='mlr_pipeops_scale.html'>mlr_pipeops_scale</a></code>,
<code><a href='mlr_pipeops_select.html'>mlr_pipeops_select</a></code>,
<code><a href='mlr_pipeops_smote.html'>mlr_pipeops_smote</a></code>,
<code><a href='mlr_pipeops_spatialsign.html'>mlr_pipeops_spatialsign</a></code>,
<code><a href='mlr_pipeops_subsample.html'>mlr_pipeops_subsample</a></code>,
<code><a href='mlr_pipeops_targetinvert.html'>mlr_pipeops_targetinvert</a></code>,
<code><a href='mlr_pipeops_targetmutate.html'>mlr_pipeops_targetmutate</a></code>,
<code><a href='mlr_pipeops_targettrafoscalerange.html'>mlr_pipeops_targettrafoscalerange</a></code>,
<code><a href='mlr_pipeops_textvectorizer.html'>mlr_pipeops_textvectorizer</a></code>,
<code><a href='mlr_pipeops_threshold.html'>mlr_pipeops_threshold</a></code>,
<code><a href='mlr_pipeops_tunethreshold.html'>mlr_pipeops_tunethreshold</a></code>,
<code><a href='mlr_pipeops_unbranch.html'>mlr_pipeops_unbranch</a></code>,
<code><a href='mlr_pipeops_updatetarget.html'>mlr_pipeops_updatetarget</a></code>,
<code><a href='mlr_pipeops_vtreat.html'>mlr_pipeops_vtreat</a></code>,
<code><a href='mlr_pipeops_yeojohnson.html'>mlr_pipeops_yeojohnson</a></code>,
<code><a href='mlr_pipeops.html'>mlr_pipeops</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://mlr3.mlr-org.com'>"mlr3"</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='st'><a href='https://mlr3filters.mlr-org.com'>"mlr3filters"</a></span><span class='op'>)</span>

<span class='co'># setup PipeOpFilter to keep the 5 most important</span>
<span class='co'># features of the spam task w.r.t. their AUC</span>
<span class='va'>task</span> <span class='op'>=</span> <span class='fu'><a href='https://mlr3.mlr-org.com/reference/mlr_sugar.html'>tsk</a></span><span class='op'>(</span><span class='st'>"spam"</span><span class='op'>)</span>
<span class='va'>filter</span> <span class='op'>=</span> <span class='fu'><a href='https://mlr3filters.mlr-org.com/reference/flt.html'>flt</a></span><span class='op'>(</span><span class='st'>"auc"</span><span class='op'>)</span>
<span class='va'>po</span> <span class='op'>=</span> <span class='fu'><a href='po.html'>po</a></span><span class='op'>(</span><span class='st'>"filter"</span>, filter <span class='op'>=</span> <span class='va'>filter</span><span class='op'>)</span>
<span class='va'>po</span><span class='op'>$</span><span class='va'>param_set</span>
</div><div class='output co'>#&gt; &lt;ParamSetCollection:auc&gt;
#&gt;                 id    class lower upper nlevels        default value
#&gt; 1:    filter.nfeat ParamInt     0   Inf     Inf &lt;NoDefault[3]&gt;      
#&gt; 2:     filter.frac ParamDbl     0     1     Inf &lt;NoDefault[3]&gt;      
#&gt; 3:   filter.cutoff ParamDbl  -Inf   Inf     Inf &lt;NoDefault[3]&gt;      
#&gt; 4: filter.permuted ParamInt     1   Inf     Inf &lt;NoDefault[3]&gt;      
#&gt; 5:  affect_columns ParamUty    NA    NA     Inf  &lt;Selector[1]&gt;      </div><div class='input'><span class='va'>po</span><span class='op'>$</span><span class='va'>param_set</span><span class='op'>$</span><span class='va'>values</span><span class='op'>$</span><span class='va'>filter.nfeat</span> <span class='op'>=</span> <span class='fl'>5</span>

<span class='co'># filter the task</span>
<span class='va'>filtered_task</span> <span class='op'>=</span> <span class='va'>po</span><span class='op'>$</span><span class='fu'>train</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>task</span><span class='op'>)</span><span class='op'>)</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>

<span class='co'># filtered task + extracted AUC scores</span>
<span class='va'>filtered_task</span><span class='op'>$</span><span class='va'>feature_names</span>
</div><div class='output co'>#&gt; [1] "capitalAve"      "capitalLong"     "charDollar"      "charExclamation"
#&gt; [5] "your"           </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>po</span><span class='op'>$</span><span class='va'>state</span><span class='op'>$</span><span class='va'>scores</span>, <span class='fl'>10</span><span class='op'>)</span>
</div><div class='output co'>#&gt; charExclamation     capitalLong      capitalAve            your      charDollar 
#&gt;       0.3290461       0.3041626       0.2882004       0.2801659       0.2721394 
#&gt;    capitalTotal            free             our             you          remove 
#&gt;       0.2622801       0.2327285       0.2109325       0.2104681       0.2031303 </div><div class='input'>
<span class='co'># feature selection embedded in a 3-fold cross validation</span>
<span class='co'># keep 30% of features based on their AUC score</span>
<span class='va'>task</span> <span class='op'>=</span> <span class='fu'><a href='https://mlr3.mlr-org.com/reference/mlr_sugar.html'>tsk</a></span><span class='op'>(</span><span class='st'>"spam"</span><span class='op'>)</span>
<span class='va'>gr</span> <span class='op'>=</span> <span class='fu'><a href='po.html'>po</a></span><span class='op'>(</span><span class='st'>"filter"</span>, filter <span class='op'>=</span> <span class='fu'><a href='https://mlr3filters.mlr-org.com/reference/flt.html'>flt</a></span><span class='op'>(</span><span class='st'>"auc"</span><span class='op'>)</span>, filter.frac <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>%&gt;&gt;%</span>
  <span class='fu'><a href='po.html'>po</a></span><span class='op'>(</span><span class='st'>"learner"</span>, <span class='fu'><a href='https://mlr3.mlr-org.com/reference/mlr_sugar.html'>lrn</a></span><span class='op'>(</span><span class='st'>"classif.rpart"</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>learner</span> <span class='op'>=</span> <span class='va'><a href='mlr_learners_graph.html'>GraphLearner</a></span><span class='op'>$</span><span class='fu'>new</span><span class='op'>(</span><span class='va'>gr</span><span class='op'>)</span>
<span class='va'>rr</span> <span class='op'>=</span> <span class='fu'><a href='https://mlr3.mlr-org.com/reference/resample.html'>resample</a></span><span class='op'>(</span><span class='va'>task</span>, <span class='va'>learner</span>, <span class='fu'><a href='https://mlr3.mlr-org.com/reference/mlr_sugar.html'>rsmp</a></span><span class='op'>(</span><span class='st'>"holdout"</span><span class='op'>)</span>, store_models <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>rr</span><span class='op'>$</span><span class='va'>learners</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span><span class='op'>$</span><span class='va'>model</span><span class='op'>$</span><span class='va'>auc</span><span class='op'>$</span><span class='va'>scores</span>
</div><div class='output co'>#&gt;   charExclamation       capitalLong        capitalAve              your 
#&gt;      3.290018e-01      3.084719e-01      2.924356e-01      2.850997e-01 
#&gt;        charDollar      capitalTotal              free               you 
#&gt;      2.760477e-01      2.690304e-01      2.328002e-01      2.133331e-01 
#&gt;               our            remove             money               all 
#&gt;      2.127344e-01      2.049659e-01      1.848303e-01      1.800999e-01 
#&gt;                hp            num000          business              over 
#&gt;      1.768315e-01      1.592152e-01      1.529875e-01      1.490547e-01 
#&gt;              mail          internet               hpl            george 
#&gt;      1.395390e-01      1.362281e-01      1.362075e-01      1.341867e-01 
#&gt;             email           receive           address             order 
#&gt;      1.316039e-01      1.303801e-01      1.246968e-01      1.142778e-01 
#&gt;              make           num1999          charHash            credit 
#&gt;      1.090133e-01      1.049933e-01      1.024926e-01      9.926152e-02 
#&gt;              will            people              labs         addresses 
#&gt;      9.423281e-02      9.040350e-02      7.689188e-02      7.541491e-02 
#&gt;            num650             num85               edu               lab 
#&gt;      6.979414e-02      6.939648e-02      6.787860e-02      6.004967e-02 
#&gt;        technology            telnet           meeting              data 
#&gt;      5.498094e-02      5.137943e-02      4.946566e-02      4.597672e-02 
#&gt;                pm            report           project            num857 
#&gt;      3.984151e-02      3.941819e-02      3.742082e-02      3.490039e-02 
#&gt; charSquarebracket            num415          original        conference 
#&gt;      3.485239e-02      3.285303e-02      2.864972e-02      2.808021e-02 
#&gt;                cs                re              font     charSemicolon 
#&gt;      2.658932e-02      2.658113e-02      2.309021e-02      2.247249e-02 
#&gt;  charRoundbracket            direct             num3d             table 
#&gt;      1.810618e-02      1.206585e-02      9.208792e-03      2.783626e-03 
#&gt;             parts 
#&gt;      5.883081e-05 </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Martin Binder, Florian Pfisterer, Lennart Schneider, Bernd Bischl, Michel Lang, Susanne Dandl.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


